(this.webpackJsonpnewsapp=this.webpackJsonpnewsapp||[]).push([[0],{10:function(e,t,c){e.exports={ShowSearchResults:"ShowSearchResults_ShowSearchResults__34ppC",searchNavbar:"ShowSearchResults_searchNavbar__VPLtS",search:"ShowSearchResults_search__h9F6U",costumSelect:"ShowSearchResults_costumSelect__16nLm",options:"ShowSearchResults_options__LINvJ",hide:"ShowSearchResults_hide__i5Xj6",selected:"ShowSearchResults_selected__mye11",showNews:"ShowSearchResults_showNews__lImOi",card:"ShowSearchResults_card__20xab",image:"ShowSearchResults_image__2-qxk",cardBody:"ShowSearchResults_cardBody__2GX9s",cardTitle:"ShowSearchResults_cardTitle__37Jrc",cardText:"ShowSearchResults_cardText__3-_vp",cardNavigation:"ShowSearchResults_cardNavigation__1a_lN",alert:"ShowSearchResults_alert__16DwH"}},12:function(e,t,c){e.exports={header:"Header_header__275GV",hide:"Header_hide__3Elcz",navbar:"Header_navbar__1dIcX",menu:"Header_menu__30KDn",showSearch:"Header_showSearch__2SMLW",selected:"Header_selected__3wCG8",disabled:"Header_disabled__2ehPw",search:"Header_search__aDYkS",mobileMenu:"Header_mobileMenu__1Hoik"}},19:function(e,t,c){e.exports={showNews:"ShowTopHeadlines_showNews__Ql3in",card:"ShowTopHeadlines_card__2JeHV",image:"ShowTopHeadlines_image__2f_ot",cardBody:"ShowTopHeadlines_cardBody__26rDy",cardTitle:"ShowTopHeadlines_cardTitle__uMx9F",cardText:"ShowTopHeadlines_cardText__N-ZYp",cardNavigation:"ShowTopHeadlines_cardNavigation__15cJg",loadMore:"ShowTopHeadlines_loadMore__1ZCSV",alert:"ShowTopHeadlines_alert__kBWyP"}},25:function(e,t,c){e.exports={article:"ShowArticle_article__3G0qE",header:"ShowArticle_header__1kujI",articleBody:"ShowArticle_articleBody__1OaBc",info:"ShowArticle_info__3YJXp",content:"ShowArticle_content__iGKJj"}},55:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var a,s=c(0),n=c.n(s),r=c(20),i=c.n(r),o=c(13),l=c(7),u=(c(54),c(55),c(17)),d=c(6),j=c(21),h=c(18),b=c.n(h),O=c(23),p=c(24);function x(){return w.apply(this,arguments)}function w(){return(w=Object(O.a)(b.a.mark((function e(){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://newsapi.org/v2/top-headlines?country=us&apiKey=d91135e9b304455297ba359cd77365c9",{method:"GET"});case 3:return c=e.sent,e.next=6,c.json();case 6:if(t=e.sent,!c.ok){e.next=9;break}return e.abrupt("return",t);case 9:throw new Error(c.status);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject("".concat(e.t0.message," - ").concat(t.message)));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return(m=Object(O.a)(b.a.mark((function e(t,c){var a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://newsapi.org/v2/everything?q=".concat(t,"&sortBy=").concat(c,"&apiKey=d91135e9b304455297ba359cd77365c9"),{method:"GET"});case 3:return s=e.sent,e.next=6,s.json();case 6:if(a=e.sent,!s.ok){e.next=9;break}return e.abrupt("return",a);case 9:throw new Error(s.status);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject("".concat(e.t0.message," - ").concat(a.message)));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var _=Object(p.b)("news/fetchTopHeadlines",Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=e.sent,e.abrupt("return",t.articles);case 4:case"end":return e.stop()}}),e)})))),v=Object(p.b)("news/fetchSearchResults",function(){var e=Object(O.a)(b.a.mark((function e(t){var c,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.query,a=t.sortBy,e.next=3,f(c,a);case 3:return s=e.sent,e.abrupt("return",{data:s.articles,query:c,sortedBy:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=Object(p.c)({name:"news",initialState:{topHeadlines:{newsArticles:[],status:"idle",error:null},searchResults:{newsArticles:[],status:"idle",queryForResults:"",sortedBy:"relevancy",error:null}},extraReducers:(a={},Object(j.a)(a,_.pending,(function(e){e.topHeadlines.status="pending"})),Object(j.a)(a,_.fulfilled,(function(e,t){e.topHeadlines.status="succeeded",e.topHeadlines.newsArticles=t.payload})),Object(j.a)(a,_.rejected,(function(e,t){e.topHeadlines.status="failed",e.topHeadlines.error=t.error})),Object(j.a)(a,v.pending,(function(e){e.searchResults.status="pending"})),Object(j.a)(a,v.fulfilled,(function(e,t){e.searchResults.status="succeeded",e.searchResults.newsArticles=t.payload.data,e.searchResults.queryForResults=t.payload.query,e.searchResults.sortedBy=t.payload.sortedBy})),Object(j.a)(a,v.rejected,(function(e,t){e.searchResults.status="failed",e.searchResults.error=t.error})),a)}),y=(S.actions.increment,S.reducer),g=c(67),N=c(66),R=c(19),k=c.n(R),B=c(1),H=function(e){var t=Object(s.useState)(!0),c=Object(u.a)(t,2),a=c[0],n=c[1];return a?Object(B.jsx)(g.a,{variant:"danger",className:k.a.alert,onClose:function(){n(!1)},dismissible:!0,children:e.error}):null},C=function(e){return Object(B.jsxs)("div",{className:k.a.card,children:[Object(B.jsx)("div",{className:k.a.image,children:Object(B.jsx)("img",{src:e.newsArticle.urlToImage,alt:""})}),Object(B.jsxs)("div",{className:k.a.cardBody,children:[Object(B.jsx)("div",{className:k.a.cardTitle,children:Object(B.jsx)("h5",{children:e.newsArticle.title})}),Object(B.jsx)("div",{className:k.a.cardText,children:Object(B.jsx)("p",{children:e.newsArticle.description})})]}),Object(B.jsx)("div",{className:k.a.cardNavigation,children:Object(B.jsx)(o.b,{to:{pathname:"/breaking-news/".concat(e.newsArticle.title),state:{articleIndex:e.articleIndex,articleCategory:"topHeadlines"}},children:Object(B.jsx)(N.a,{variant:"primary",children:"Read full article"})})})]})},T=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.news.topHeadlines.newsArticles})),c=Object(d.c)((function(e){return e.news.topHeadlines.status})),a=Object(d.c)((function(e){return e.news.topHeadlines.error})),n=Object(s.useState)(!1),r=Object(u.a)(n,2),i=r[0],o=r[1],l=t.length;l>20&&!i&&(t=t.slice(0,20));var j=t.map((function(e,t){return Object(B.jsx)(C,{newsArticle:e,articleIndex:t},t)}));return Object(s.useEffect)((function(){e(_())}),[e]),"failed"!==c?Object(B.jsxs)("div",{className:k.a.showNews,children:[j,Object(B.jsx)("div",{className:k.a.loadMore,children:l>0?Object(B.jsx)(N.a,{variant:"success",onClick:function(){o(!i)},children:i?l>20?"Show less":"There is no more":"Show more"}):null})]}):Object(B.jsx)(H,{error:a.message})},A=c(44),I=c(45),q=c(48),E=c(47),L=c(68),V=c(30),M=c.p+"static/media/logo.8000d9f0.jpg",D=c(12),F=c.n(D),J=function(e){var t=Object(l.g)(),c=Object(d.c)((function(e){return e.news.searchResults.queryForResults})),a=Object(s.useState)(c),n=Object(u.a)(a,2),r=n[0],i=n[1],o=function(c){c.preventDefault(),e.handleSearchIcon(),t.push("/search?q=".concat(r))};return Object(s.useEffect)((function(){i(c)}),[c]),Object(B.jsxs)("div",{className:F.a.search,children:[Object(B.jsx)(L.a,{onSubmit:o,children:Object(B.jsx)(L.a.Control,{type:"text",placeholder:"Search",value:r,onChange:function(e){i(e.target.value)},onSubmit:o})}),e.showSearch?Object(B.jsx)(V.c,{onClick:e.handleSearchIcon}):Object(B.jsx)(V.b,{onClick:e.handleSearchIcon})]})},Y=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(!1),r=Object(u.a)(n,2),i=r[0],l=r[1],d=function(){a(!c)};c?document.body.classList.contains("hidden")||document.body.classList.add("hidden"):document.body.classList.contains("hidden")&&document.body.classList.remove("hidden");return Object(B.jsxs)("div",{className:"".concat(F.a.navbar," ").concat(i?F.a.showSearch:""),children:[Object(B.jsx)("img",{src:M,alt:""}),Object(B.jsxs)("div",{className:"".concat(F.a.menu," ").concat(c?F.a.mobileMenu:""),children:[Object(B.jsx)(o.c,{to:"/breaking-news",activeClassName:F.a.selected,onClick:d,children:Object(B.jsx)("span",{children:"Breaking News"})}),Object(B.jsx)(o.c,{to:"/news",activeClassName:F.a.selected,onClick:d,children:Object(B.jsx)("span",{children:"News"})}),Object(B.jsx)(o.c,{to:"/travel",activeClassName:F.a.selected,onClick:d,children:Object(B.jsx)("span",{children:"Travel"})}),Object(B.jsx)(o.c,{to:"/future",activeClassName:F.a.selected,onClick:d,children:Object(B.jsx)("span",{children:"Future"})}),Object(B.jsx)(o.c,{to:"/culture",activeClassName:F.a.selected,onClick:d,children:Object(B.jsx)("span",{children:"Culture"})})]}),Object(B.jsx)(J,{handleSearchIcon:function(){l(!i)},showSearch:i}),Object(B.jsx)(V.a,{onClick:d})]})},G=function(e){Object(q.a)(c,e);var t=Object(E.a)(c);function c(e){var a;return Object(A.a)(this,c),(a=t.call(this,e)).handleScroll=function(){var e=window.scrollY;e>a.windowYOffset&&!0===a.state.navVisible?a.setState({navVisible:!1}):e<a.windowYOffset&&!1===a.state.navVisible&&a.setState({navVisible:!0}),a.windowYOffset=e},a.state={navVisible:!0},a.windowYOffset=0,a}return Object(I.a)(c,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return Object(B.jsx)("div",{className:"".concat(F.a.header," ").concat(this.state.navVisible?F.a.show:F.a.hide),children:Object(B.jsx)(Y,{})})}}]),c}(n.a.Component),P=c(46),K=c(10),X=c.n(K),U=function(e){var t=Object(s.useState)(!0),c=Object(u.a)(t,2),a=c[0],n=c[1];return a?Object(B.jsx)(g.a,{variant:"danger",className:X.a.alert,onClose:function(){n(!1)},dismissible:!0,children:e.error}):null},W=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.news.searchResults.queryForResults})),c=Object(d.c)((function(e){return e.news.searchResults.sortedBy})),a={open:!1,value:"",options:[{name:"Relevance",selected:!1,sortBy:"relevancy"},{name:"Popularity",selected:!1,sortBy:"popularity"},{name:"Date",selected:!1,sortBy:"publishedAt"}]},n=a.options.findIndex((function(e){return e.sortBy===c}));a.options[n].selected=!0,a.value=a.options[n].name;var r=Object(s.useState)(a),i=Object(u.a)(r,2),o=i[0],l=i[1],j=o.options.map((function(c,a){return Object(B.jsx)("span",{className:c.selected?X.a.selected:"",onClick:function(){return function(c,a,s){var n=Object.assign({},o);n.value=c,n.open=!1,n.options=n.options.map((function(e){return{name:e.name,selected:!1,sortBy:e.sortBy}})),n.options[s].selected=!0,l(n),e(v({query:t,sortBy:a}))}(c.name,c.sortBy,a)},children:c.name},a)}));return Object(B.jsxs)("div",{className:X.a.costumSelect,children:[Object(B.jsx)(P.a,{type:"text",onClick:function(e){var t=Object.assign({},o);t.open=!t.open,l(t)},value:"Sorted by ".concat(o.value),readOnly:!0}),Object(B.jsx)("div",{className:"".concat(X.a.options," ").concat(o.open?"":X.a.hide),children:j})]})},Z=function(){var e=Object(l.g)(),t=Object(d.c)((function(e){return e.news.searchResults.queryForResults})),c=(Object(d.c)((function(e){return e.news.searchResults.sortedBy})),Object(s.useState)(t)),a=Object(u.a)(c,2),n=a[0],r=a[1],i=function(t){t.preventDefault(),e.push("/search?q=".concat(n))};return Object(s.useEffect)((function(){r(t)}),[t]),Object(B.jsx)(L.a,{onSubmit:i,className:X.a.search,children:Object(B.jsx)(L.a.Control,{type:"text",placeholder:"Search",value:n,onChange:function(e){r(e.target.value)},onSubmit:i})})},z=function(){return Object(B.jsxs)("div",{className:X.a.searchNavbar,children:[Object(B.jsx)(Z,{}),Object(B.jsx)(W,{})]})},Q=function(e){return Object(B.jsxs)("div",{className:X.a.card,children:[Object(B.jsx)("div",{className:X.a.image,children:Object(B.jsx)("img",{src:e.newsArticle.urlToImage,alt:""})}),Object(B.jsxs)("div",{className:X.a.cardBody,children:[Object(B.jsx)("div",{className:X.a.cardTitle,children:Object(B.jsx)("h5",{children:e.newsArticle.title})}),Object(B.jsx)("div",{className:X.a.cardText,children:Object(B.jsx)("p",{children:e.newsArticle.description})}),Object(B.jsx)("div",{className:X.a.cardNavigation,children:Object(B.jsx)(o.b,{to:{pathname:"/news/".concat(e.newsArticle.title),state:{articleIndex:e.articleIndex,articleCategory:"searchResults"}},children:Object(B.jsx)(N.a,{variant:"primary",children:"Read full article"})})})]})]})},$=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.news.searchResults.newsArticles})),c=Object(d.c)((function(e){return e.news.searchResults.status})),a=Object(d.c)((function(e){return e.news.searchResults.error})),n=Object(d.c)((function(e){return e.news.searchResults.sortedBy})),r=new URLSearchParams(Object(l.h)().search).get("q"),i=t.map((function(e,t){return Object(B.jsx)(Q,{newsArticle:e,articleIndex:t},t)}));return Object(s.useEffect)((function(){r&&e(v({query:r,sortBy:n}))}),[r,e]),"failed"!==c?Object(B.jsxs)("div",{className:X.a.ShowSearchResults,children:[Object(B.jsx)(z,{}),Object(B.jsx)("div",{className:X.a.showNews,children:i})]}):Object(B.jsx)(U,{error:a.message})},ee=c(25),te=c.n(ee),ce=function(e){var t=Object(l.g)(),c=e.location.state,a=c.articleIndex,s=c.articleCategory,n=Object(d.c)((function(e){return e.news[s].newsArticles}))[a];return n?Object(B.jsxs)("div",{className:te.a.article,children:[Object(B.jsxs)("div",{className:te.a.header,children:[Object(B.jsx)("a",{href:n.url,target:"_blank",rel:"noreferrer",children:Object(B.jsx)("p",{children:n.source.name})}),Object(B.jsx)("h3",{children:n.title}),Object(B.jsx)("h5",{children:n.description})]}),Object(B.jsxs)("div",{className:te.a.articleBody,children:[Object(B.jsx)("img",{src:n.urlToImage,alt:""}),Object(B.jsxs)("div",{className:te.a.info,children:[Object(B.jsxs)("p",{children:["By ",Object(B.jsx)("span",{children:n.author})]}),Object(B.jsx)("p",{children:n.publishedAt})]}),Object(B.jsx)("div",{className:te.a.content,children:Object(B.jsx)("p",{children:n.content})})]}),Object(B.jsx)("footer",{})]}):(t.push("/breaking-news"),null)},ae=function(){return Object(B.jsxs)(o.a,{children:[Object(B.jsx)(G,{}),Object(B.jsxs)(l.d,{children:[Object(B.jsx)(l.b,{exact:!0,path:"/",children:Object(B.jsx)(l.a,{to:"/breaking-news"})}),Object(B.jsx)(l.b,{exact:!0,path:"/breaking-news",children:Object(B.jsx)(T,{})}),Object(B.jsx)(l.b,{exact:!0,path:"/news"}),Object(B.jsx)(l.b,{exact:!0,path:"/travel"}),Object(B.jsx)(l.b,{exact:!0,path:"/future"}),Object(B.jsx)(l.b,{exact:!0,path:"/culture"}),Object(B.jsx)(l.b,{exact:!0,path:"/:query",children:Object(B.jsx)($,{})}),Object(B.jsx)(l.b,{exact:!0,path:"/breaking-news/:article",component:ce}),Object(B.jsx)(l.b,{exact:!0,path:"/news/:article",component:ce})]})]})},se=Object(p.a)({reducer:{news:y},middleware:function(e){return e()}});i.a.render(Object(B.jsx)(d.a,{store:se,children:Object(B.jsx)(ae,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.ea8b645b.chunk.js.map